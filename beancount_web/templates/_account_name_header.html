<h1>
    {% set levels = account_name.count(':')+1 %}
    {% for level in range(0, levels) %}
        {% set subaccount_name = account_name.rsplit(':', maxsplit=levels-loop.index)[0] %}
        {% set subaccount_part = account_name.split(':')[level] %}

        {%- if loop.last -%}
            {{ subaccount_part }}
        {%- else -%}
            <a href="{{ url_for('account_with_journal', name=subaccount_name) }}" title="{{ subaccount_name }}">{{ subaccount_part }}</a><span class="separator">:</span>
        {%- endif -%}
    {% endfor %}

    {% if uptodate_eligible(account_name) %}
        {% with status=api.is_account_uptodate(account_name, look_back_days=config.getint('uptodate-indicator-grey-lookback-days')) %}
        <span class="status-indicator status-indicator-big status-{{ status }}" title="{{ status|uptodate_infotext }}"></span>
        {% endwith %}
    {% endif %}

    {% set activity = api.statistics(account_name=account_name) %}
    {% if activity %}
    <div class="last-activity">
        (Last entry: <a href="{{ url_for('source', file_path=activity.last_posting_filename, line=activity.last_posting_lineno) }}" title="Show source {{ activity.last_posting_filename }}:{{ activity.last_posting_lineno }}">{{ activity.last_posting_date }}</a>)
    </div>
    {% endif %}
</h1>
